### Thread

---

##### Process & Thread

###### Process

> *컴퓨터에서 연속적으로 실행되고 있는 프로그램*  `운영체제의 최소 작업 단위`
>
> >`프로그램` 파일이 저장장치에 저장되어 있지만 메모리에는 올라가있지 않은 정적인 상태
> >
> >`프로세스` 프로그램이 실행되어 메모리에 올라간 동적인 상태
>
> *프로그램을 실행하면 시스템 자원을 할당받아 프로세스가 된다*  `프로그램의 인스턴스`
>
> 시스템 자원
>
> - 독립된 메모리공간
> - cpu시간
> - 운영되기 위해 필요한 메모리 주소
>
> 프로세스마다 독립된 메모리 영역을 할당하기에 한 프로세스는 다른 프로세스에 접근할수없다.
>
> > 운영체제의 안정성을 위해 프로세스마다 할당된 메모리 내부 정보만 접근가능하게 제약하고 있다.
> >
> > 프로세스 끼리 접근기위해 서는 프로세스간의 통신을 이용해야한다.
> >
> > - IPC (inter-process-communication) 
> > - LPC(Local inter-Process communication)
> > - 파이프, 파일, 소켓등
>
> 

###### Thread

> *프로세스 내에서 실행되는 흐름의 단위*   `CPU의 최소 작업 단위`
>
> *프로세스의 특정한 수행경로*
>
> *프로세스는 하나의 스레드 `메인스레드`를` 가지고 있다*
>
> *하나의 프로세스는 여러 개의 스레드를 가질수 있다* `멀티스레드`
>
> 쓰레드는 프로세스 내에 Code, Data, Heap 영역은 공유하고 Stack만 따로 할당받는다. *서로의 자원에 접근할수 있다*

##### Multi process 

> *하나의 응용프로그램을 여러 개의 프로세스로 구성하여 각 프로세스가 하나의 태스크를 처리하도록 하는것*
>
> 독립된 구조로 실행되기에 각 프로세스가 서로 영향을 주지않아 안전성이 높다
>
> 각각 독립된 메모리 영역을 가지고 있어, 작업량이 많을수록 오버헤드가 발생한다, Context Switching으로 인한 성능저하가 발생한다.
>
> `OverHead` 어떤 처리를 하기위해 들어가는 간접적인 처리 시간, 메모리 *목적달성에 본질적이진 않지만 필요한 자원*
>
> `Context Switching` *CPU에서 여러 프로세스를 돌아가면서 작업을 처리하는 과정*
>
> *동작 중인 프로세스가 대기를 하면서 프로세스의 상태 `context`를 보관하고, 대기하고있던 다음 순서의 프로세스가 동작하면서 이전에 보관했던 프로세스의 상태를 복구하는 작업.*

##### Multi Thread

> 하나의 응용프로그램을 여러 개의 스레드로 구성하고 각 스레드로 하여금 하나의 작업을 처리하도록 하는것.
>
> - 프로세스를 생성하여 자원할당하는 시스템 콜이 줄어들어 자원효율성이 증대된다.
> - 스레드 간에 데이터를 주고받는게 간단해져 통신의 부담이 적고 (메모리 공유) 시스템 자원 소모가 줄어든다
> - Context Switching이 빠르다 _context switching시 스레드는 stack만 처리하기 때문_
>
> * 하지만 주의 깊은 설계가 필요하고 디버깅이 까다롭다.
>
> * 단일 프로세스 시스템일 경우에는 효과를 보기 힘들다.
> * 하나의 스레드에 문제가발생하면 전체 프로세스가 영향을받는다
> * 멀티 스레드의 경우에 자원 공유의 문제가 발생한다 동기화 문제 `synchronization issue`
>   * 각각의 스레드가 어떤순서로 실행될 지 순서를 알수없다.
>   * 스케줄링은 os가 자동으로 해주지 않기에 신중하게 설계해야한다.

